<script type="text/javascript">
    RED.nodes.registerType("OpenAI Response", {
        category: 'AI GPT - AI Intent',
        color: '#6a7f93',
        icon:"font-awesome/fa-commenting-o",
        defaults: {
            name: { value: "" },
            keepFormatting: {value: false}
        },
        inputs: 1,
        outputs: 1,

        label: function () {
            return this.name || "OpenAI Response";
        },

        oneditprepare: function(x){
           
        }
    });

</script>

<script type="text/html" data-template-name="OpenAI Response">

    <div class="form-row">
        <label for="node-input-name"><i class="fa fa-tag"></i> Nome</label>
        <input type="text" id="node-input-name" placeholder="Nome">
    </div>

    <div style="display: flex; justify-content: space-around;">
    
        <label for="node-input-keepFormatting" style="display: flex;">
            <i class="fa fa-tag"></i>
            <span style="margin-left: 5px;">Continue formatando</span>
            <input style="display: inline-block;margin-left: 1rem;" type="checkbox" id="node-input-keepFormatting"
                name="keep formatting"></label>
    </div>
</script>

<script type="text/html" data-help-name="OpenAI Response">
    <p>Limpe a resposta do OpenAI e retorne uma interface de dados consistente </p>

    <h3>Detalhes</h3>
    <p>Este nó deve ser usado diretamente após o nó <code>OpenAI Chat</code>.</p>

    <h4>Continue formatando</h4>
    Por padrão, este nó retirará a resposta do GPT para retornar uma string limpa.
     Isto evita anomalias causadas pela forma como diferentes saídas (por exemplo, saída para
      telegrama versus conversão de texto em fala). No entanto, se você quiser manter a formatação retornada pelo GPT,
      marque a caixa de seleção.
</script>
